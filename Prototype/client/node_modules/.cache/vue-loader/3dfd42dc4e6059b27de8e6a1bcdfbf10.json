{"remainingRequest":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\src\\views\\Browse.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\src\\views\\Browse.vue","mtime":1590060867217},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUG9zdFNlcnZpY2UgZnJvbSAnLi4vU2VhcmNoU2VydmljZScNCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogew0KICAgIGRyYWdnYWJsZQ0KICB9LA0KICAvKkxvY2FsIFZhcmlhYmxlcyAqLw0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZDp0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsDQogICAgICBtb3ZpZXM6IFtdLA0KICAgICAgc2ltaWxhcml0aWVzOiBbXSwNCiAgICAgIGVycm9yczogJycsDQogICAgICB0ZXh0OiAnJywNCiAgICAgIGxpc3RPcmRlcjogW10sDQogICAgICBtb3ZlRGlzdGFuY2U6IDAsDQogICAgICBtb3ZlQ291bnQ6IDAsDQogICAgICBicm93c2VTdGFydCA6IHVuZGVmaW5lZCwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy9jb25maWcgZm9yIHNjcm9sbGluZyB2YXJpYWJsZXMgd2hpbGUgZHJhZ2dpbmcNCiAgICBkcmFnT3B0aW9ucygpew0KICAgICAgcmV0dXJuIHsNCiAgICAgc2Nyb2xsU2Vuc2l0aXZpdHk6ICIyMDAiLA0KICAgICBmb3JjZUZhbGxiYWNrOiB0cnVlLA0KICAgICBzY3JvbGxTcGVlZDogIjMwIiwNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIC8qIFN0YXJ0cyB3aGVuIHZpZXcgaXMgaW5pdGlhbGl6ZWQuIFJldHJpZXZlcyByZWNvbW1lbmRlciBsaXN0cyBiYXNlZCBvbiBtb3ZpZSBzZWxlY3RlZC4gU2h1ZmZsZXMgYWZ0ZXJ3YXJkcyAqLw0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIHRyeXsNCiAgICAgIHRoaXMubW92aWVzID0gYXdhaXQgUG9zdFNlcnZpY2UuZ2V0U2ltcyh0aGlzLmlkKQ0KICAgICAgY29uc3QgdGVtcD0gdGhpcy5tb3ZpZXNbMF1bIlNpbWlsYXJpdGllcyJdDQogICAgICB0aGlzLmJyb3dzZVN0YXJ0ID0gRGF0ZS5ub3coKQ0KICAgICAgdGhpcy50cmltT3V0cHV0KCkNCiAgICAgIHRoaXMuc2ltaWxhcml0aWVzID0gT2JqZWN0LmtleXModGVtcCkubWFwKChrZXkpID0+IHsNCiAgICAgICAgcmV0dXJuIFtTdHJpbmcoa2V5KSwgdGVtcFtrZXldXTsNCiAgICAgIH0pDQogICAgfSBjYXRjaChlcnIpIHsNCiAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKQ0KICAgIH0NCiAgICAvKlNvcnQgbGlzdCBpZiByYW5kb21pc2VkIGNvbmRpdGlvbnMgT1IgZmlyc3QgaXR0ZXJhdGlvbi4gY29uZGl0aW9uIDEgYW5kIDQqLw0KICAgIGlmKFsxLDRdLmluY2x1ZGVzKHRoaXMuJHBhcmVudC5jb25kaXRpb24pIHx8IHRoaXMuJHBhcmVudC5pdHRlcmF0aW9uID09IDEpew0KICAgICAgdGhpcy5zaW1pbGFyaXRpZXMgPSB0aGlzLnNodWZmbGUodGhpcy5zaW1pbGFyaXRpZXMpDQogICAgfQ0KICAgIC8vU2V0cyBsaXN0IG9yZGVyIHRvIHRoZSBvcmRlciBhdCB0aGUgZW5kIG9mIHRoZSBwcmV2aW91cyBpdHRlcmF0aW9uLiBDb25kaXRpb24gMiBhbmQgNQ0KICAgIGVsc2UgaWYoWzIsNV0uaW5jbHVkZXModGhpcy4kcGFyZW50LmNvbmRpdGlvbikpew0KICAgICAgdGhpcy5zaW1pbGFyaXRpZXMgPSB0aGlzLnByZXZPcmRlcigpDQogICAgfQ0KICAgIC8vc29ydHMgbGlzdCBvcmRlciBiYXNlZCBvbiB3ZWlnaHRzIGZyb20gcHJldmlvdXMgaXR0ZXJhdGlvbnMuIENvbmRpdGlvbiAzIGFuZCA2DQogICAgZWxzZSBpZihbMyw2XS5pbmNsdWRlcyh0aGlzLiRwYXJlbnQuY29uZGl0aW9uKSl7DQogICAgICB0aGlzLmFwcGx5V2VpZ2h0cygpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy9Mb2dzIG51bWJlciBvZiBkcmFncyBhbmQgaG93IGZhciBpdCB3YXMgZHJhZ2dlZA0KICAgIGNoZWNrTW92ZShldnQpew0KICAgICAgdGhpcy5tb3ZlQ291bnQgPSB0aGlzLm1vdmVDb3VudCArIDE7DQogICAgICB0aGlzLm1vdmVEaXN0YW5jZSA9IHRoaXMubW92ZURpc3RhbmNlICsgKE1hdGguYWJzKGV2dC5vbGRJbmRleCAtIGV2dC5uZXdJbmRleCkpDQogICAgICBjb25zb2xlLmxvZyhldnQpDQogICAgfSwNCiAgICB0cmltT3V0cHV0KCl7DQogICAgICB2YXIgc291cmNlID0gdGhpcy5tb3ZpZXNbMF1bIk1ldGFkYXRhIl0NCiAgICAgIHRoaXMubW92aWVzWzBdWyJNZXRhZGF0YSJdLlJlbGVhc2UgPSBzb3VyY2UuUmVsZWFzZS5zdWJzdHJpbmcoMCw0KQ0KDQogICAgICB2YXIgYWN0b3JsaXN0ID0gc291cmNlLkFjdG9ycy5zcGxpdCgnLCcpDQogICAgICB2YXIgYWN0b3JTdHJpbmcgPSAiIg0KICAgICAgaWYoYWN0b3JsaXN0Lmxlbmd0aCA8IDQpew0KICAgICAgICBmb3IodmFyIGkgaW4gYWN0b3JsaXN0KXsNCiAgICAgICAgICBpZihpID09IDApew0KICAgICAgICAgICAgYWN0b3JTdHJpbmcgPSBhY3Rvcmxpc3RbaV0NCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZXsNCiAgICAgICAgICBhY3RvclN0cmluZyA9IGFjdG9yU3RyaW5nLmNvbmNhdCggIiwgIiArIGFjdG9ybGlzdFtpXSkNCiAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlew0KICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgNDsgeCArKyl7DQogICAgICAgICAgICAgICAgICAgIGlmKHggPT0gMCl7DQogICAgICAgICAgICBhY3RvclN0cmluZyA9IGFjdG9ybGlzdFt4XQ0KICAgICAgICAgIH0NCiAgICAgICAgICBlbHNlew0KICAgICAgICAgIGFjdG9yU3RyaW5nID0gYWN0b3JTdHJpbmcuY29uY2F0KCIsICIgKyBhY3Rvcmxpc3RbeF0pDQogICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5tb3ZpZXNbMF1bIk1ldGFkYXRhIl0uQWN0b3JzID0gYWN0b3JTdHJpbmcNCiAgICB9LA0KICAgIC8qIFNldHMgb3JkZXIgdG8gcHJldmlvdXMgaXR0ZXJhdGlvbnMgb3JkZXIsIHVzZWQgYnkgY29uZGl0aW9uIDIgYW5kIDUqLw0KICAgICBwcmV2T3JkZXIoKXsNCiAgICAgICAgICBjb25zdCBwcmV2aW91c09yZGVyID0gdGhpcy4kcGFyZW50Lmdsb2JhbExpc3RbdGhpcy4kcGFyZW50Lml0dGVyYXRpb24tMl0NCiAgICAgICAgICBjb25zdCB0ZW1wT3JkZXIgPSBbXQ0KDQogICAgICAgICAgLy9zcGVjaWFsIGhhbmRsaW5nIG5lZWRlZCBmb3IgY29uZGl0aW9uIDINCiAgICAgICAgICBpZih0aGlzLiRwYXJlbnQuY29uZGl0aW9uID09IDIpew0KICAgICAgICAgICAgZm9yKHZhciBwID0gMDsgcCA8IHRoaXMuc2ltaWxhcml0aWVzLmxlbmd0aDsgcCsrKXsNCiAgICAgICAgICAgICAgaWYodGhpcy4kcGFyZW50LnByZXZpb3VzU2VsZWN0ZWRMaXN0ID09IHRoaXMuc2ltaWxhcml0aWVzW3BdWzBdKXsNCiAgICAgICAgICAgICAgICB0ZW1wT3JkZXIucHVzaCh0aGlzLnNpbWlsYXJpdGllc1twXSkNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBmb3IodmFyIHg9IDA7IHggPCBwcmV2aW91c09yZGVyLmxlbmd0aDsgeCsrKXsNCiAgICAgICAgICAgIGZvcih2YXIgeT0gMDsgeSA8IHRoaXMuc2ltaWxhcml0aWVzLmxlbmd0aDsgeSsrKXsNCiAgICAgICAgICAgICAgaWYocHJldmlvdXNPcmRlclt4XSA9PSB0aGlzLnNpbWlsYXJpdGllc1t5XVswXSl7DQogICAgICAgICAgICAgICAgaWYodGhpcy5zaW1pbGFyaXRpZXNbeV1bMF0gIT09IHRoaXMuJHBhcmVudC5wcmV2aW91c1NlbGVjdGVkTGlzdCl7DQogICAgICAgICAgICAgICAgICB0ZW1wT3JkZXIucHVzaCh0aGlzLnNpbWlsYXJpdGllc1t5XSkNCiAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gdGVtcE9yZGVyDQogICAgICB9LA0KDQogICAgLyogRmlzaGVyLVlhdGVzIHNodWZmbGUgb2YgdGhlIGxpc3RzICovDQogICAgc2h1ZmZsZShhcnIpIHsNCiAgICAgIHZhciBpLA0KICAgICAgICAgIGosDQogICAgICAgICAgdGVtcDsNCiAgICAgIGZvciAoaSA9IGFyci5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7DQogICAgICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpOw0KICAgICAgICAgIHRlbXAgPSBhcnJbaV07DQogICAgICAgICAgYXJyW2ldID0gYXJyW2pdOw0KICAgICAgICAgIGFycltqXSA9IHRlbXA7DQogICAgICB9DQogICAgICByZXR1cm4gYXJyOyAgICANCiAgICB9LA0KDQogICAgLy8iSGV5IGknbSBnb2luZyB0byBpbmNsdWRlIDEwIG1vdmllcyBpbiB0aGUgZGF0YXNldCB3aGF0IGEgZ29vZCBpZGVhIGl0IGlzIHByb2JhYmx5IHN1cGVyIGVhc3kgdG8gbGltaXQgb3V0cHV0IGxhdGVyIi5maXgNCiAgICBjdXQob2JqZWN0KSB7DQogICAgICBjb25zdCB0cmVhdGVkID0gIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKChrZXkpID0+IHsNCiAgICAgICAgICByZXR1cm4gW1N0cmluZyhrZXkpLCBvYmplY3Rba2V5XV07DQogICAgICAgIH0pDQogICAgICB2YXIgaGFsZlNwbGl0ID0ge30NCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKXsNCiAgICAgICAgaGFsZlNwbGl0W2ldID0gdHJlYXRlZFtpXVsxXQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGhhbGZTcGxpdA0KICAgIH0sDQoNCiAgICAvL1RoZXNlIHR3byBleGlzdCBiZWNhdXNlIHZ1ZSBpcyBhIHJlYWwgYml0Y2ggd2l0aCBkeW5hbWljIHBhdGhzIGluIHRoZSBidWlsZA0KICAgIGdldEltZ1N0eWxlKHVybCl7DQogICAgICBjb25zdCBpbWFnZVBhdGggPSB0aGlzLmdldFBpY1VybCh1cmwpDQogICAgICBjb25zdCBhbm90aGVyT25lID0gYHVybCgiIGArIGltYWdlUGF0aCArIGAiKWANCiAgICAgIHJldHVybiB7J2JhY2tncm91bmQtaW1hZ2UnOiBhbm90aGVyT25lfQ0KICAgIH0sDQoNCiAgICBnZXRQaWNVcmwodXJsKXsNCiAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4uL2Fzc2V0cy9wb3N0ZXJzJyArIHVybCkNCiAgICB9LA0KDQogICAgLypVcGRhdGUgZGF0YWJhc2Ugd2l0aCB2YWx1ZXMuIHBvc3RTZXJ2aWNlIHBhcmFtczogIElkIC0gRmllbGQgLSBWYWx1ZSAqLw0KICAgIGFzeW5jIHVwZGF0ZVN0dWZmKGZpZWxkLHZhbHVlKXsNCiAgICAgIGF3YWl0IFBvc3RTZXJ2aWNlLmdlbmVyaWNVcGRhdGUodGhpcy4kcGFyZW50LnNlc3Npb25JZCxmaWVsZCx2YWx1ZSkNCiAgICB9LA0KDQogICAgLypHZW5lcmF0ZSBhIGxpc3QgY29udGFpbmluZyBjdXJyZW50IG9yZGVyIG9mIHRoZSByZWNzLiBJbmRleCA9IHBvc2l0aW9uLCBuYW1lID0gbmFtZSAqLw0KICAgIGdldExpc3RPcmRlcigpew0KICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc2ltaWxhcml0aWVzLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgdGhpcy5saXN0T3JkZXIucHVzaCh0aGlzLnNpbWlsYXJpdGllc1tpXVswXSkgICAgICANCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKiBmaW5kcyBwb3NpdGlvbiBvZiB0aGUgbGlzdCB3aGljaCB0aGUgbW92aWUgd2FzIHNlbGVjdGVkIGZyb20gKi8NCiAgICBnZXRQb3NpdGlvbih0YXJnZXQpew0KICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmxpc3RPcmRlci5sZW5ndGg7IGorKyl7DQogICAgICAgIGlmKHRoaXMubGlzdE9yZGVyW2pdID09IHRhcmdldCkNCiAgICAgICAgICByZXR1cm4gag0KICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlV2VpZ2h0cygpew0KICAgICAgdmFyIGxpc3RPYmplY3QgPSBbXQ0KICAgICAgZm9yKHZhciB4IGluIHRoaXMubGlzdE9yZGVyICl7DQogICAgICAgIGxpc3RPYmplY3RbeF0gPSB7bGlzdCA6IHRoaXMubGlzdE9yZGVyW3hdLCB2YWx1ZSA6ICh0aGlzLmxpc3RPcmRlci5sZW5ndGgteCkvMTAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy4kcGFyZW50LndlaWdodExpc3QgPSBsaXN0T2JqZWN0DQogICAgICBjb25zb2xlLmxvZygiY3JlYXRlZCB3ZWlnaHRzIikNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHBhcmVudC53ZWlnaHRMaXN0KQ0KICAgIH0sDQogICAgdXBkYXRlV2VpZ2h0cygpew0KICAgICAgZm9yKHZhciB4IGluIHRoaXMubGlzdE9yZGVyKXsNCiAgICAgICAgZm9yKHZhciB5IGluIHRoaXMuJHBhcmVudC53ZWlnaHRMaXN0KXsNCiAgICAgICAgICBpZih0aGlzLiRwYXJlbnQud2VpZ2h0TGlzdFt5XS5saXN0ID09IHRoaXMubGlzdE9yZGVyW3hdKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJNYXRjaGluZyAiICsgdGhpcy4kcGFyZW50LndlaWdodExpc3RbeV0ubGlzdCArICIgYWdhaW5zdCAiICsgdGhpcy5saXN0T3JkZXJbeF0gKQ0KICAgICAgICAgICAgY29uc29sZS5sb2coInZhbHVlIHdhcyAiICsgdGhpcy4kcGFyZW50LndlaWdodExpc3RbeV0udmFsdWUpDQogICAgICAgICAgICB0aGlzLiRwYXJlbnQud2VpZ2h0TGlzdFt5XS52YWx1ZSA9IHBhcnNlRmxvYXQoKHRoaXMuJHBhcmVudC53ZWlnaHRMaXN0W3ldLnZhbHVlICsgKCh0aGlzLmxpc3RPcmRlci5sZW5ndGggLSB4KSAvIDEwKSkudG9GaXhlZCgyKSkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ2YWx1ZSBpcyBub3cgIiArIHRoaXMuJHBhcmVudC53ZWlnaHRMaXN0W3ldLnZhbHVlKQ0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKCJ1bnNvcmV0IikNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHBhcmVudC53ZWlnaHRMaXN0KQ0KICAgICAgdGhpcy4kcGFyZW50LndlaWdodExpc3QgPSB0aGlzLiRwYXJlbnQud2VpZ2h0TGlzdC5zb3J0KChhLGIpID0+IChhLnZhbHVlIDwgYi52YWx1ZSkgPyAxOiAtMSkNCiAgICAgIGNvbnNvbGUubG9nKCJzb3J0ZWQiKQ0KICAgICAgY29uc29sZS5sb2codGhpcy4kcGFyZW50LndlaWdodExpc3QpDQoNCiAgICB9LA0KICAgIGFwcGx5V2VpZ2h0cygpew0KICAgICAgdmFyIHNvcnRlZFNpbSA9IFtdDQogICAgICBmb3IodmFyIHggaW4gdGhpcy4kcGFyZW50LndlaWdodExpc3Qpew0KICAgICAgICBmb3IodmFyIHkgaW4gdGhpcy5zaW1pbGFyaXRpZXMpew0KICAgICAgICAgIGlmKHRoaXMuJHBhcmVudC53ZWlnaHRMaXN0W3hdLmxpc3QgPT0gdGhpcy5zaW1pbGFyaXRpZXNbeV1bMF0pew0KICAgICAgICAgICAgc29ydGVkU2ltLnB1c2godGhpcy5zaW1pbGFyaXRpZXNbeV0pDQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5zaW1pbGFyaXRpZXMgPSBzb3J0ZWRTaW0NCiAgICB9LA0KICAgIGdldFRpbWUoKXsNCiAgICAgIHJldHVybiBNYXRoLmFicygoRGF0ZS5ub3coKSAtIHRoaXMuYnJvd3NlU3RhcnQpLzEwMDApLnRvRml4ZWQoMikNCiAgICB9LA0KICAgIC8qQnJvd3NpbmcgZW5kIGhhbmRsZXIuIFdyaXRlcyBhY3Rpdml0eSB0byBkYXRhYmFzZSwgdGhlbiBkZXRlcm1pbmVzIHdoYXQgcGF0aCB0byBjaG9zZSBiYXNlZCBvbiBpdHRlcmF0aW9uIHN0YXRlLiAqLw0KICAgIGVuZFNlc3Npb24oTW92aWVJZCxzZWxlY3RlZExpc3Qpew0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdldFRpbWUoKSkNCiAgICAgICAgdGhpcy5nZXRMaXN0T3JkZXIoKQ0KICAgICAgICB0aGlzLiRwYXJlbnQucHJldmlvdXNTZWxlY3RlZExpc3QgPSBzZWxlY3RlZExpc3QNCiAgICAgICAgaWYoWzMsNl0uaW5jbHVkZXModGhpcy4kcGFyZW50LmNvbmRpdGlvbikpew0KICAgICAgICAgIGlmKHRoaXMuJHBhcmVudC5pdHRlcmF0aW9uID09IDEpew0KICAgICAgICAgICAgdGhpcy5jcmVhdGVXZWlnaHRzKCkNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlV2VpZ2h0cygpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vUmVzdWx0IGZpZWxkDQogICAgICAgIGNvbnN0IHJlc3VsdCA9IHsNCiAgICAgICAgICBsaXN0T3JkZXJpbmcgOiB0aGlzLmxpc3RPcmRlciwNCiAgICAgICAgICBsaXN0U2VsZWN0ZWRGcm9tIDogc2VsZWN0ZWRMaXN0LA0KICAgICAgICAgIG1vdmllU2VsZWN0ZWQgOiBNb3ZpZUlkICsgIi5qc29uIiwNCiAgICAgICAgICBtb3ZpZVBvc2l0aW9uIDogdGhpcy5nZXRQb3NpdGlvbihzZWxlY3RlZExpc3QpDQogICAgICAgIH0NCiAgICAgICAgY29uc3QgZmllbGROYW1lID0gIkJyb3dzZVJlc3VsdCIgKyB0aGlzLiRwYXJlbnQuaXR0ZXJhdGlvbg0KICAgICAgICB0aGlzLnVwZGF0ZVN0dWZmKGZpZWxkTmFtZSxyZXN1bHQpDQoNCiAgICAgICAgLy9jb250aW51YXRpb24gaGFuZGxlcg0KICAgICAgICBpZih0aGlzLiRwYXJlbnQuaXR0ZXJhdGlvbiA9PSA1KXsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOicvU3VydmV5JyAgfSkNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5nbG9iYWxMaXN0W3RoaXMuJHBhcmVudC5pdHRlcmF0aW9uLTFdID0gdGhpcy5saXN0T3JkZXINCiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5pdHRlcmF0aW9uID0gdGhpcy4kcGFyZW50Lml0dGVyYXRpb24gKyAxDQoNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOicvc2VhcmNoJyAgfSkNCiAgICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Browse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Browse.vue","sourceRoot":"src/views","sourcesContent":["<!--This is condition 1A. This condition has no controll elements, and list order is randomized in every itteration. -->\r\n<template>\r\n  <div id=\"container\">\r\n  <div class=\"Browse\">\r\n    <div class=\"textBox\" v-if=\"[1,2,3].includes(this.$parent.condition)\"><!--Instruction box -->\r\n      <h1>Choosing a Suitable Movie from a Number of Recommendations</h1>\r\n      <h2> Itteration {{this.$parent.itteration}} of 5 </h2>\r\n      <p>Based on the movie that you have selected as a reference movie in the previous step, which is also shown directly below, \r\n        you are now tasked with finding a similar movie that you might enjoy to watch. Please inspect the options presented below for this purpose and select a movie that you would like to watch.<p/>\r\n    </div>\r\n\r\n    <div class=\"textBox\" v-if=\"[4,5,6].includes(this.$parent.condition)\"><!--Instruction box -->\r\n      <div class=\"headerText\">\r\n      <h1>Ordering Recommendations Provided</h1>\r\n      <h1> Itteration {{this.$parent.itteration}} of 5 </h1>\r\n      </div>\r\n      <p>Based on the movie that you have selected as a reference movie in the previous step, which is also shown directly below, \r\n        you are now tasked with ordering the recommendations to your preference from top to bottom. This can be done by dragging the handle icon \"<i class=\"fas fa-arrows-alt-v\"></i>\" up and down.\r\n       When satisfied with the order, please select a movie that you would like to watch to continue.<p/>\r\n    </div>\r\n\r\n  <div id=\"metaContainer\">\r\n    <div id=\"textContainer\">\r\n    <h2>Your Reference Movie:</h2>\r\n    <h3>{{movies[0][\"Metadata\"].Title}}</h3>\r\n    <p style=\"font-weight: bold;\">{{movies[0][\"Metadata\"].Release}}</p>\r\n    <p class = \"metaText\">{{movies[0][\"Metadata\"].Overview}}</p>\r\n    <p class = \"metaText\">Stars: {{movies[0][\"Metadata\"].Actors}}</p>\r\n    <p class = \"metaText\">Director: {{movies[0][\"Metadata\"].Directors}}</p>\r\n    <p class = \"metaText\">Genres: {{movies[0][\"Metadata\"].Genres}}</p>\r\n    </div>\r\n    <div id=\"imageContainer\">\r\n    <div id=\"metaHeader\" :style=\"getImgStyle(movies[0]['Metadata'].Cover_Path)\">\r\n    </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n    <!--Renders without controll elements, IE conditions 1-3  -->\r\n    <div class=\"recContainer\" v-if=\"[1,2,3].includes(this.$parent.condition)\">\r\n      <div class =\"list\" v-for=\"(list,name) in similarities\" v-bind:item=\"list\" v-bind:key=\"name\">\r\n        <!--p> {{list[0]}}DEBUG ONLY </p-->    \r\n        <!--Movie loop -->\r\n        <div class =\"filmSet\" v-for=\"(filmSet,index) in cut(list[1])\" v-bind:item=\"filmSet\" v-bind:key=\"index\">\r\n\r\n            <div class=\"film\" :style=\"getImgStyle(filmSet.Cover_Path)\">\r\n              <div class=\"tooltip\">\r\n              <p class=\"tooltipText\"> {{filmSet.Title}} </p>\r\n              <button class=\"btnconf\" v-on:click=\"endSession(filmSet.MovieLensID, list[0])\">confirm</button>\r\n              </div>\r\n            </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Renders with control elements IF conditions are 4-6 -->\r\n    <div class=\"recContainer\" v-if=\"[4,5,6].includes(this.$parent.condition)\">\r\n\r\n      <draggable v-bind=\"dragOptions\" v-model=\"similarities\" class=\"bigger-area\" animation=\"200\" handle=.handle @change=\"checkMove($event)\">\r\n        <div class =\"list\" v-for=\"(list,name) in similarities\" v-bind:item=\"list\" v-bind:key=\"name\">\r\n        <i class=\"fas fa-arrows-alt-v handle\" style=\"font-size:4em;\"></i>  \r\n        <!--Movie loop -->\r\n        <div class =\"filmSet\" v-for=\"(filmSet,index) in cut(list[1])\" v-bind:item=\"filmSet\" v-bind:key=\"index\">\r\n\r\n            <div class=\"film\" :style=\"getImgStyle(filmSet.Cover_Path)\">\r\n              <!--{{filmSet.Title}}\r\n              <button v-on:click=\"endSession(filmSet.MovieLensID, list[0])\">confirm</button>-->\r\n            </div>\r\n\r\n        </div>\r\n      </div>\r\n      </draggable>\r\n    </div>\r\n  \r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostService from '../SearchService'\r\nimport draggable from 'vuedraggable'\r\n\r\nexport default {\r\n    components: {\r\n    draggable\r\n  },\r\n  /*Local Variables */\r\n  data() {\r\n    return {\r\n      id:this.$route.params.id,\r\n      movies: [],\r\n      similarities: [],\r\n      errors: '',\r\n      text: '',\r\n      listOrder: [],\r\n      moveDistance: 0,\r\n      moveCount: 0,\r\n      browseStart : undefined,\r\n    }\r\n  },\r\n  computed: {\r\n    //config for scrolling variables while dragging\r\n    dragOptions(){\r\n      return {\r\n     scrollSensitivity: \"200\",\r\n     forceFallback: true,\r\n     scrollSpeed: \"30\",\r\n      }\r\n    }\r\n  },\r\n  /* Starts when view is initialized. Retrieves recommender lists based on movie selected. Shuffles afterwards */\r\n  async created() {\r\n    try{\r\n      this.movies = await PostService.getSims(this.id)\r\n      const temp= this.movies[0][\"Similarities\"]\r\n      this.browseStart = Date.now()\r\n      this.trimOutput()\r\n      this.similarities = Object.keys(temp).map((key) => {\r\n        return [String(key), temp[key]];\r\n      })\r\n    } catch(err) {\r\n      console.log(err.message)\r\n    }\r\n    /*Sort list if randomised conditions OR first itteration. condition 1 and 4*/\r\n    if([1,4].includes(this.$parent.condition) || this.$parent.itteration == 1){\r\n      this.similarities = this.shuffle(this.similarities)\r\n    }\r\n    //Sets list order to the order at the end of the previous itteration. Condition 2 and 5\r\n    else if([2,5].includes(this.$parent.condition)){\r\n      this.similarities = this.prevOrder()\r\n    }\r\n    //sorts list order based on weights from previous itterations. Condition 3 and 6\r\n    else if([3,6].includes(this.$parent.condition)){\r\n      this.applyWeights()\r\n    }\r\n  },\r\n  methods: {\r\n    //Logs number of drags and how far it was dragged\r\n    checkMove(evt){\r\n      this.moveCount = this.moveCount + 1;\r\n      this.moveDistance = this.moveDistance + (Math.abs(evt.oldIndex - evt.newIndex))\r\n      console.log(evt)\r\n    },\r\n    trimOutput(){\r\n      var source = this.movies[0][\"Metadata\"]\r\n      this.movies[0][\"Metadata\"].Release = source.Release.substring(0,4)\r\n\r\n      var actorlist = source.Actors.split(',')\r\n      var actorString = \"\"\r\n      if(actorlist.length < 4){\r\n        for(var i in actorlist){\r\n          if(i == 0){\r\n            actorString = actorlist[i]\r\n          }\r\n          else{\r\n          actorString = actorString.concat( \", \" + actorlist[i])\r\n        }\r\n        }\r\n      }\r\n      else{\r\n        for(var x = 0; x < 4; x ++){\r\n                    if(x == 0){\r\n            actorString = actorlist[x]\r\n          }\r\n          else{\r\n          actorString = actorString.concat(\", \" + actorlist[x])\r\n        }\r\n        }\r\n      }\r\n      this.movies[0][\"Metadata\"].Actors = actorString\r\n    },\r\n    /* Sets order to previous itterations order, used by condition 2 and 5*/\r\n     prevOrder(){\r\n          const previousOrder = this.$parent.globalList[this.$parent.itteration-2]\r\n          const tempOrder = []\r\n\r\n          //special handling needed for condition 2\r\n          if(this.$parent.condition == 2){\r\n            for(var p = 0; p < this.similarities.length; p++){\r\n              if(this.$parent.previousSelectedList == this.similarities[p][0]){\r\n                tempOrder.push(this.similarities[p])\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          for(var x= 0; x < previousOrder.length; x++){\r\n            for(var y= 0; y < this.similarities.length; y++){\r\n              if(previousOrder[x] == this.similarities[y][0]){\r\n                if(this.similarities[y][0] !== this.$parent.previousSelectedList){\r\n                  tempOrder.push(this.similarities[y])\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return tempOrder\r\n      },\r\n\r\n    /* Fisher-Yates shuffle of the lists */\r\n    shuffle(arr) {\r\n      var i,\r\n          j,\r\n          temp;\r\n      for (i = arr.length - 1; i > 0; i--) {\r\n          j = Math.floor(Math.random() * (i + 1));\r\n          temp = arr[i];\r\n          arr[i] = arr[j];\r\n          arr[j] = temp;\r\n      }\r\n      return arr;    \r\n    },\r\n\r\n    //\"Hey i'm going to include 10 movies in the dataset what a good idea it is probably super easy to limit output later\".fix\r\n    cut(object) {\r\n      const treated =  Object.keys(object).map((key) => {\r\n          return [String(key), object[key]];\r\n        })\r\n      var halfSplit = {}\r\n      for (var i = 0; i < 5; i++){\r\n        halfSplit[i] = treated[i][1]\r\n      }\r\n      return halfSplit\r\n    },\r\n\r\n    //These two exist because vue is a real bitch with dynamic paths in the build\r\n    getImgStyle(url){\r\n      const imagePath = this.getPicUrl(url)\r\n      const anotherOne = `url(\" `+ imagePath + `\")`\r\n      return {'background-image': anotherOne}\r\n    },\r\n\r\n    getPicUrl(url){\r\n        return require('../assets/posters' + url)\r\n    },\r\n\r\n    /*Update database with values. postService params:  Id - Field - Value */\r\n    async updateStuff(field,value){\r\n      await PostService.genericUpdate(this.$parent.sessionId,field,value)\r\n    },\r\n\r\n    /*Generate a list containing current order of the recs. Index = position, name = name */\r\n    getListOrder(){\r\n      for(var i = 0; i < this.similarities.length; i++){\r\n        this.listOrder.push(this.similarities[i][0])      \r\n        }\r\n    },\r\n\r\n    /* finds position of the list which the movie was selected from */\r\n    getPosition(target){\r\n      for (var j = 0; j < this.listOrder.length; j++){\r\n        if(this.listOrder[j] == target)\r\n          return j\r\n      }\r\n    },\r\n    createWeights(){\r\n      var listObject = []\r\n      for(var x in this.listOrder ){\r\n        listObject[x] = {list : this.listOrder[x], value : (this.listOrder.length-x)/10 }\r\n      }\r\n      this.$parent.weightList = listObject\r\n      console.log(\"created weights\")\r\n      console.log(this.$parent.weightList)\r\n    },\r\n    updateWeights(){\r\n      for(var x in this.listOrder){\r\n        for(var y in this.$parent.weightList){\r\n          if(this.$parent.weightList[y].list == this.listOrder[x]){\r\n            console.log(\"Matching \" + this.$parent.weightList[y].list + \" against \" + this.listOrder[x] )\r\n            console.log(\"value was \" + this.$parent.weightList[y].value)\r\n            this.$parent.weightList[y].value = parseFloat((this.$parent.weightList[y].value + ((this.listOrder.length - x) / 10)).toFixed(2))\r\n            console.log(\"value is now \" + this.$parent.weightList[y].value)\r\n            break\r\n          }\r\n        }\r\n      }\r\n      console.log(\"unsoret\")\r\n      console.log(this.$parent.weightList)\r\n      this.$parent.weightList = this.$parent.weightList.sort((a,b) => (a.value < b.value) ? 1: -1)\r\n      console.log(\"sorted\")\r\n      console.log(this.$parent.weightList)\r\n\r\n    },\r\n    applyWeights(){\r\n      var sortedSim = []\r\n      for(var x in this.$parent.weightList){\r\n        for(var y in this.similarities){\r\n          if(this.$parent.weightList[x].list == this.similarities[y][0]){\r\n            sortedSim.push(this.similarities[y])\r\n            break\r\n          }\r\n        }\r\n      }\r\n      this.similarities = sortedSim\r\n    },\r\n    getTime(){\r\n      return Math.abs((Date.now() - this.browseStart)/1000).toFixed(2)\r\n    },\r\n    /*Browsing end handler. Writes activity to database, then determines what path to chose based on itteration state. */\r\n    endSession(MovieId,selectedList){\r\n        console.log(this.getTime())\r\n        this.getListOrder()\r\n        this.$parent.previousSelectedList = selectedList\r\n        if([3,6].includes(this.$parent.condition)){\r\n          if(this.$parent.itteration == 1){\r\n            this.createWeights()\r\n          }\r\n          else{\r\n            this.updateWeights()\r\n          }\r\n        }\r\n        //Result field\r\n        const result = {\r\n          listOrdering : this.listOrder,\r\n          listSelectedFrom : selectedList,\r\n          movieSelected : MovieId + \".json\",\r\n          moviePosition : this.getPosition(selectedList)\r\n        }\r\n        const fieldName = \"BrowseResult\" + this.$parent.itteration\r\n        this.updateStuff(fieldName,result)\r\n\r\n        //continuation handler\r\n        if(this.$parent.itteration == 5){\r\n            this.$router.push({path:'/Survey'  })\r\n        }\r\n        else {\r\n            this.$parent.globalList[this.$parent.itteration-1] = this.listOrder\r\n            this.$parent.itteration = this.$parent.itteration + 1\r\n\r\n            this.$router.push({path:'/search'  })\r\n        }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n#container{\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.Browse{\r\n  max-width: 1200px;\r\n}\r\n.textBox {\r\n  background-color: black;\r\n  opacity: 0.9;\r\n  border-style: solid;\r\n  border-width: 2px;\r\n  border-color: white;\r\n  padding: 10px;\r\n  margin: 10px;\r\n}\r\np,h1 {\r\n  color:white;\r\n  font-size: 1em;\r\n  text-align:left;\r\n  white-space: pre-line;\r\n  margin: 5px;\r\n}\r\n.headerText{\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  justify-content: space-between;\r\n}\r\nh1{\r\n  font-size:2em;\r\n  color:red;\r\n}\r\ni{\r\n  color:white;\r\n}\r\nth{\r\n    font-weight: normal;\r\n    color:white;\r\n    font-size:1.25em;\r\n}\r\n#alerter{\r\n  color:red;\r\n}\r\n.recContainer{\r\n  margin:10px\r\n}\r\n.list{\r\n  width:100%;\r\n  display:flex;\r\n  flex-direction: row;\r\n  flex-grow:1;\r\n  justify-content: space-evenly;\r\n  margin-bottom: 10px;\r\n  align-items: center;\r\n}\r\n.filmSet{\r\n  height: 340px;\r\n  width:100%;\r\n  max-width: 20%;\r\n  min-width: 15%;\r\n    margin:5px;\r\n}\r\n.film{\r\n  min-height:100%;\r\n  min-width:100%;\r\n  display: inline-block;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  color:black;\r\n}\r\n#metaHeader{\r\n  height: 100%;\r\n  width: 55%;\r\n  display: inline-block;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  color:black;\r\n}\r\nh2{\r\n  color: red;\r\n}\r\nh3{\r\n  color: white;\r\n  font-size: 3em\r\n}\r\n.metaText{\r\n  font-size: 1em;\r\n  padding: 0px;\r\n}\r\n#metaContainer{\r\n  background-color: black;\r\n  opacity: 0.9;\r\n  border-style: solid;\r\n  border-width: 2px;\r\n  border-color: white;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  display: flex;\r\n}\r\n#textContainer{\r\n  width: 50%\r\n}\r\n#imageContainer{\r\n  min-width: 50%;\r\n  min-height: 100%;\r\n}\r\n.tooltip{\r\n  height:100%;\r\n  width: 100%;\r\n  color: white;\r\n  display: none;\r\n  background-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.9), rgba(0,0,0,1), rgba(0,0,0,1))\r\n}\r\n.film:hover .tooltip{\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n}\r\nbutton{\r\n  padding: 1em;\r\n  border-radius: 8px;\r\n  background-color: #404040;\r\n  font-size: 1em;\r\n  border: none;\r\n  color: white;\r\n}\r\n.btnconf{\r\n  position: relative;\r\n  bottom: 0;\r\n  transition: 0.3s;\r\n}\r\n.btnconf:hover{\r\n  background-color:darkgray;\r\n  cursor: pointer;\r\n\r\n}\r\n</style>"]}]}