{"remainingRequest":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\src\\views\\Search.vue?vue&type=style&index=0&id=108651b3&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\src\\views\\Search.vue","mtime":1590591836145},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLypMZWdlbmQgU3R5bGUqLwouY29udGFpbmVyewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoudGV4dEJveCB7CiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7CiAgb3BhY2l0eTogMC45OwogIGJvcmRlci1zdHlsZTogc29saWQ7CiAgYm9yZGVyLXdpZHRoOiAycHg7CiAgYm9yZGVyLWNvbG9yOiB3aGl0ZTsKICBwYWRkaW5nOiAxMHB4OwogIG1heC13aWR0aDogMTIwMHB4OwogIGRpc3BsYXk6IGJsb2NrOwp9CnAsaDEgewogIGNvbG9yOndoaXRlOwogIHBhZGRpbmc6IDVweDsKICB0ZXh0LWFsaWduOmxlZnQ7CiAgd2hpdGUtc3BhY2U6IHByZS1saW5lOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQpoMXsKICBmb250LXNpemU6MmVtOwogIGNvbG9yOnJlZDsKfQpoMnsKICBmb250LXNpemU6IDEuNWVtOwogIGNvbG9yOiB3aGl0ZQp9CgovKlNlYXJjaCBiYXIgKi8KLnNlYXJjaEJveHsKICBtYXJnaW46IDEwcHg7CiAgbWF4LXdpZHRoOiAxMjI1cHg7CiAgZGlzcGxheTogYmxvY2s7Cn0KLnNlYXJjaEZpZWxkewp3aWR0aDogMTAwJTsKcG9zaXRpb246IHJlbGF0aXZlOwpkaXNwbGF5OiBmbGV4Owp9CiNpbnB1dEZpZWxkewogIHdpZHRoOiAxMDAlOwpib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTsKYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7CmJvcmRlci1yaWdodDogbm9uZTsKcGFkZGluZzogMTBweDsKaGVpZ2h0OiAyMHB4Owpib3JkZXItcmFkaXVzOiA1cHggMCAwIDVweDsKb3V0bGluZTogbm9uZTsKY29sb3I6IHdoaXRlOwpmb250LXNpemU6IDEuNWVtOwp9Ci5zZWFyY2hCdG57CiAgIHdpZHRoOiA2MHB4OwpoZWlnaHQ6IDQ0cHg7CmJvcmRlcjogMXB4IHNvbGlkIHdoaXRlOwpiYWNrZ3JvdW5kOiB3aGl0ZTsKdGV4dC1hbGlnbjogY2VudGVyOwpib3JkZXItcmFkaXVzOiAwIDVweCA1cHggMDsKY3Vyc29yOiBwb2ludGVyOwpwb3NpdGlvbjogcmVsYXRpdmU7CnRyYW5zaXRpb246IDAuM3M7Cn0KLnNlYXJjaEJ0bjpob3ZlcnsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7CiAgYm9yZGVyOiAxcHggc29saWQgcmVkOwp9Ci5zZWFyY2hJY29uewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDUwJTsKICBsZWZ0OiA1MCU7CiAgaGVpZ2h0OiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgd2lkdGg6IDJlbTsKICBoZWlnaHQ6IDJlbTsKICBkaXNwbGF5OiBibG9jazsKICBjb2xvcjogYmxhY2s7Cgp9Ci5lcnJvck1zZ3sKICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICBvcGFjaXR5OiAwLjk7CiAgYm9yZGVyLXN0eWxlOiBzb2xpZDsKICBib3JkZXItd2lkdGg6IDJweDsKfQoKLypNb3ZpZSBzdHlsaW5nICovCi5tb3ZpZUNvbnRhaW5lcnsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtZ2FwOiAxZW07CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpOwp9Ci5tb3ZpZXsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IGF1dG87CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoucG9zdGVyewogIGhlaWdodDogNDUwcHg7CiAgd2lkdGg6IDMwMHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwp9Ci50b29sdGlwewogIGhlaWdodDoxMDAlOwogIHdpZHRoOiAxMDAlOwogIGNvbG9yOiB3aGl0ZTsKICBkaXNwbGF5OiBub25lOwogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoMCwwLDAsMCksIHJnYmEoMCwwLDAsMC45KSwgcmdiYSgwLDAsMCwxKSwgcmdiYSgwLDAsMCwxKSkKfQoucG9zdGVyOmhvdmVyIC50b29sdGlwewogIGhlaWdodDoxMDAlOwogIHdpZHRoOiAxMDAlOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB0cmFuc2l0aW9uOiAyczsKfQoudG9vbHRpcFRleHR7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zaXplOiAxLDVlbTsKICBwYWRkaW5nOm5vbmU7CiAgcGFkZGluZy1ib3R0b206IDVweDsKfQoudG9vbHRpcFRleHQ6Zmlyc3QtY2hpbGR7CiAgbWFyZ2luLXRvcDogNjAlOwogIHBhZGRpbmc6bm9uZTsKfQojdG9vbHRpcE92ZXJ2aWV3ewogIG1heC1oZWlnaHQ6IDIwJTsKICBtYXgtd2lkdGg6IDEwMCU7CiAgZm9udC1zaXplOiAxZW07Cn0KLmJ0bmNvbmZ7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGJvdHRvbTogMDsKICB0cmFuc2l0aW9uOiAwLjNzOwogIHBhZGRpbmc6IDFlbTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogIzQwNDA0MDsKICBmb250LXNpemU6IDFlbTsKICBib3JkZXI6IG5vbmU7CiAgY29sb3I6IHdoaXRlOwp9Ci5idG5jb25mOmhvdmVyewogIGJhY2tncm91bmQtY29sb3I6ZGFya2dyYXk7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<!--This component handles all searches for movies -->\n<template>\n  <div class=\"Search\">\n\n    <!--Legend container-->\n    <div class=\"container\">\n      <div class=\"textBox\">\n        <h1>Reference Item Selection</h1>                        \n        <h2>Step {{this.$parent.itteration}} of 5</h2>\n        <p>Please search for and select a movie that you have watched and enjoyed at some point. In the following step, we show you other movies that might be interesting for you.<p/>\n        <p>Note that our survey system only contains a limited number of movies; especially newer movies might be missing. If the movie you would like to select is not available, please try another one.</p>\n      </div>\n    </div>\n\n    <!--Search input container -->\n    <div class=\"container\">\n    <div class=\"searchBox\">\n      <div class=\"searchField\">\n        <input type=\"text\" id=\"inputField\" v-model=\"text\" v-on:keyup=\"keymonitor\" autocomplete=\"off\" placeholder=\"Type a familiar movie here..\">\n        <button class=\"searchBtn\" v-on:click=\"searchMovies\">\n        <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"search\" class=\"searchIcon\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"></path></svg>\n      </button>\n      </div>\n    </div>\n    </div>\n\n    <!--Load animation -->\n    <transition name=\"fade\">\n      <div id=\"loading\" v-if=\"searching\" mode=\"out-in\">\n        <div class=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n      </div>\n    </transition>\n    \n    <!--Displays message if request returned no result or server failure-->\n    <div>\n      <transition name=\"fade\">\n        <div class=\"errorMsg\" v-if=\"resultState == false\">\n          <h1>No results found for \"{{previousText}}\". Try again </h1>\n        </div>\n      </transition>\n        <transition name=\"fade\" >\n          <div class=\"errorMsg\" v-if=\"serverError== true\">\n            <h1>Problem processing the request, connection to server refused. </h1>\n          </div>\n       </transition>\n       \n       <!--Displays movies found when searching -->\n      <transition name=\"fade\" mode=\"out-in\">\n        <div v-if=\"resultState\" class=\"movieContainer\">\n          <div class=\"movie\"  v-for=\"(movie, index) in movies\" v-bind:item=\"movie\" v-bind:index=\"index\" v-bind:key=\"movie._id\" v-bind:id=\"movies.Id\">\n            <div class=\"poster\" :style=\"getImgStyle(movie.Cover_Path)\">\n              <div class=\"tooltip\">\n                <p class=\"tooltipText\">{{movie.Title}}</p>\n                <p class=\"tooltipText\">{{movie.Release}}</p>\n                <p id=\"tooltipOverview\">{{movie.Overview}}</p>\n                <button class=\"btnconf\" v-on:click=\"nextScreen(movie.Id)\"><i class=\"fas fa-check\"></i>Continue with <br> this movie</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PostService from '../SearchService'\nexport default {\n  name: 'Search',\n  data() {\n    return {\n      //Local Variables\n      movies: [],\n      errors: '',\n      text: '',\n      resultState : undefined,\n      previousText: undefined,\n      searching: false,\n      serverError: false,\n    }\n  },\n\n  methods: {\n      \n    //Allows users to use their enter button with same functionality as search button. Check in place to disable double-click  \n    keymonitor: function(event){\n      if(event.key ==\"Enter\" && this.text != this.previousText){\n        this.searchMovies();\n      }\n    },  \n\n    //Call to API with query. Also handles the state of DOM elements such as loading icon. Check in place to disable double-click \n    async searchMovies() {\n      if(this.text !== '' && this.text != this.previousText){\n        this.searching = true\n\n        try{\n          this.movies = await PostService.searchMovie(this.text)\n          this.resultsFound()\n          this.previousText = this.text\n          this.searching = false\n        \n        } catch(err) {\n          this.serverError = true;\n          this.searching = false;\n          console.log(err)\n        }\n      }\n    },\n    \n    //Decides if results are found and are to be treated, or do display empty result warning\n    resultsFound(){\n      if(this.movies.length == 0){\n        this.previousText = this.text\n        this.resultState = false\n      }\n      else{\n        this.resultState = true\n        this.trimOutput()\n      }\n    },\n\n    //Trims some movie metadata strings to make them fit the movie tooltip\n    trimOutput(){\n      for(var i in this.movies){\n        this.movies[i].Release = \"(\" + this.movies[i].Release.substring(0,4) + \")\"\n        this.movies[i].Overview = this.movies[i].Overview.substring(0,100) + \"...\"  \n      }\n    },\n\n    //Sets image style\n    getImgStyle(url){\n      const imagePath = this.getPicUrl(url)\n      const anotherOne = `url(\" `+ imagePath + `\")`\n      return {'background-image': anotherOne}\n    },\n\n    //Needed in order to force vue to recognize dynamic links existance at build.\n    getPicUrl(url){\n        return require('../assets/posters' + url)\n    },\n\n    //Creates path for next view based on query and condition\n    concatPath(id){\n      return  '/Browse/' + id\n    },\n\n    //Handles end of view based on button press. Logs session information to database and reroutes to appropriate condition based on global variable \n    nextScreen(id){\n      this.updateStuff((\"Search\" + this.$parent.itteration),id)\n      this.$router.push({path: this.concatPath(id,)  })\n    },\n\n    //Update database with values. postService params:  Id - Field - Value \n    async updateStuff(field,value){\n      await PostService.genericUpdate(this.$parent.sessionId,field,value)\n    },\n  }\n}\n</script>\n\n<style scoped>\n  /*Legend Style*/\n  .container{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .textBox {\n    background-color: black;\n    opacity: 0.9;\n    border-style: solid;\n    border-width: 2px;\n    border-color: white;\n    padding: 10px;\n    max-width: 1200px;\n    display: block;\n  }\n  p,h1 {\n    color:white;\n    padding: 5px;\n    text-align:left;\n    white-space: pre-line;\n    text-align: center;\n  }\n  h1{\n    font-size:2em;\n    color:red;\n  }\n  h2{\n    font-size: 1.5em;\n    color: white\n  }\n\n  /*Search bar */\n  .searchBox{\n    margin: 10px;\n    max-width: 1225px;\n    display: block;\n  }\n  .searchField{\n  width: 100%;\n  position: relative;\n  display: flex;\n  }\n  #inputField{\n    width: 100%;\n  border: 2px solid white;\n  background-color: black;\n  border-right: none;\n  padding: 10px;\n  height: 20px;\n  border-radius: 5px 0 0 5px;\n  outline: none;\n  color: white;\n  font-size: 1.5em;\n  }\n  .searchBtn{\n     width: 60px;\n  height: 44px;\n  border: 1px solid white;\n  background: white;\n  text-align: center;\n  border-radius: 0 5px 5px 0;\n  cursor: pointer;\n  position: relative;\n  transition: 0.3s;\n  }\n  .searchBtn:hover{\n    background-color: red;\n    border: 1px solid red;\n  }\n  .searchIcon{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    height: 50%;\n    transform: translate(-50%, -50%);\n    width: 2em;\n    height: 2em;\n    display: block;\n    color: black;\n\n  }\n  .errorMsg{\n    background-color: black;\n    opacity: 0.9;\n    border-style: solid;\n    border-width: 2px;\n  }\n\n  /*Movie styling */\n  .movieContainer{\n    display: grid;\n    grid-gap: 1em;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  }\n  .movie{\n    height: 100%;\n    width: auto;\n    box-sizing: border-box;\n  }\n  .poster{\n    height: 450px;\n    width: 300px;\n    display: inline-block;\n    background-size: cover;\n  }\n  .tooltip{\n    height:100%;\n    width: 100%;\n    color: white;\n    display: none;\n    background-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.9), rgba(0,0,0,1), rgba(0,0,0,1))\n  }\n  .poster:hover .tooltip{\n    height:100%;\n    width: 100%;\n    display: inline-block;\n    transition: 2s;\n  }\n  .tooltipText{\n    font-weight: bold;\n    font-size: 1,5em;\n    padding:none;\n    padding-bottom: 5px;\n  }\n  .tooltipText:first-child{\n    margin-top: 60%;\n    padding:none;\n  }\n  #tooltipOverview{\n    max-height: 20%;\n    max-width: 100%;\n    font-size: 1em;\n  }\n  .btnconf{\n    position: relative;\n    bottom: 0;\n    transition: 0.3s;\n    padding: 1em;\n    border-radius: 8px;\n    background-color: #404040;\n    font-size: 1em;\n    border: none;\n    color: white;\n  }\n  .btnconf:hover{\n    background-color:darkgray;\n    cursor: pointer;\n  }\n</style>"]}]}