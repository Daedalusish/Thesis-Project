{"remainingRequest":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\src\\views\\Browse.vue?vue&type=style&index=0&id=2e880dbf&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\src\\views\\Browse.vue","mtime":1590665366075},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\John Doe\\Desktop\\New folder\\alphaBuild\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovKkdlbmVyYWwgKi8NCi5jb250YWluZXJ7DQogIHdpZHRoOjEwMCUNCn0NCi5Ccm93c2V7DQogIHdpZHRoOjEwMCU7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KLypMZWdlbmQqLw0KLnRleHRCb3ggew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgb3BhY2l0eTogMC45Ow0KICBib3JkZXItc3R5bGU6IHNvbGlkOw0KICBib3JkZXItd2lkdGg6IDJweDsNCiAgYm9yZGVyLWNvbG9yOiB3aGl0ZTsNCiAgcGFkZGluZzogMTBweDsNCiAgbWFyZ2luOiAxMHB4Ow0KICBtYXgtd2lkdGg6IDEyMDBweDsNCiAgbWluLXdpZHRoOiAxMDAlOw0KfQ0KcCxoMSB7DQogIGNvbG9yOndoaXRlOw0KICBmb250LXNpemU6IDFlbTsNCiAgdGV4dC1hbGlnbjpsZWZ0Ow0KICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7DQogIG1hcmdpbjogNXB4Ow0KfQ0KI2V4YW1wbGV7DQogIGhlaWdodDogMS4yZW07DQp9DQouaGVhZGVyVGV4dHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC13cmFwOiBub3dyYXA7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCn0NCmgxew0KICBmb250LXNpemU6MmVtOw0KICBjb2xvcjpyZWQ7DQp9DQppew0KICBjb2xvcjp3aGl0ZTsNCn0NCi8qUmVmZXJlbmNlIE1vdmllKi8NCi5tZXRhVGV4dHsNCiAgZm9udC1zaXplOiAxZW07DQogIHBhZGRpbmc6IDBweDsNCn0NCiNtZXRhQ29udGFpbmVyew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgb3BhY2l0eTogMC45Ow0KICBib3JkZXItc3R5bGU6IHNvbGlkOw0KICBib3JkZXItd2lkdGg6IDJweDsNCiAgYm9yZGVyLWNvbG9yOiB3aGl0ZTsNCiAgcGFkZGluZzogMTBweDsNCiAgbWFyZ2luOiAxMHB4Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBtYXgtd2lkdGg6IDEyMDBweDsNCn0NCiN0ZXh0Q29udGFpbmVyew0KICB3aWR0aDogNTAlDQp9DQojaW1hZ2VDb250YWluZXJ7DQogIG1pbi13aWR0aDogNTAlOw0KICBtaW4taGVpZ2h0OiAxMDAlOw0KfQ0KaDJ7DQogIGNvbG9yOiByZWQ7DQp9DQpoM3sNCiAgY29sb3I6IHdoaXRlOw0KICBmb250LXNpemU6IDNlbQ0KfQ0KLypMaXN0IFN0eWxlICovDQoucmVjQ29udGFpbmVyew0KICBtYXJnaW4tdG9wOjEwcHg7DQogIHdpZHRoOiAxMDAlOw0KfQ0KLmxpc3R7DQogIHdpZHRoOjEwMCU7DQogIGRpc3BsYXk6IGZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQoubGlzdENvbnRhaW5lcnsNCiAgd2lkdGg6MTAwJTsNCiAgZGlzcGxheTpmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICBmbGV4LWdyb3c6MTsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7DQogIG1hcmdpbi1ib3R0b206IDEwcHg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIG1heC13aWR0aDogMTIyNHB4Ow0KfQ0KLypGaWxtIHN0eWxlICovDQoNCi5maWxtU2V0ew0KICBoZWlnaHQ6IDEwMCU7DQogIHdpZHRoOjEwMCU7DQogIG1heC13aWR0aDogMjAlOw0KICBtaW4td2lkdGg6IDE1JTsNCiAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCi5maWxtew0KICBtaW4taGVpZ2h0OjEwMCU7DQogIG1pbi13aWR0aDoxMDAlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47DQogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogIGNvbG9yOmJsYWNrOw0KICB0cmFuc2l0aW9uOiAwLjNzOw0KICB3aWR0aDoxMDAlOw0KICBoZWlnaHQ6MDsNCiAgcGFkZGluZy10b3A6IDE1MCU7DQp9DQojbWV0YUhlYWRlcnsNCiAgaGVpZ2h0OiAxMDAlOw0KICB3aWR0aDogNTUlOw0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCiAgY29sb3I6YmxhY2s7DQp9DQogIC5zdmdEYXRhew0KICAgIGhlaWdodDogN2VtOw0KICAgIHdpZHRoOiAzZW07DQogICAgY29sb3I6IHdoaXRlOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgfQ0KLyoiVG9vbHRpcCIgKi8NCi50b29sdGlwew0KIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAwOw0KICBib3R0b206IDA7DQogIGxlZnQ6IDA7DQogIHJpZ2h0OiAwOw0KICBjb2xvcjogd2hpdGU7DQogIGRpc3BsYXk6IG5vbmU7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogIGFsaWduLWl0ZW1zOiBzdHJldGNoOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDAsMCwwLDApLCByZ2JhKDAsMCwwLDAuOSksIHJnYmEoMCwwLDAsMSksIHJnYmEoMCwwLDAsMSkpOw0KICB0cmFuc2l0aW9uOiAuNSBlYXNlOw0KfQ0KLmZpbG1Db250YWluZXJ7DQogIHBvc2l0aW9uOnJlbGF0aXZlDQp9DQouZmlsbUNvbnRhaW5lcjpob3ZlciAudG9vbHRpcHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KfQ0KIC50b29sdGlwVGV4dHsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBmb250LXNpemU6IDEsNWVtOw0KICAgIHBhZGRpbmc6bm9uZTsNCiAgICBwYWRkaW5nLWJvdHRvbTogMnB4Ow0KICB9DQogIC50b29sdGlwVGV4dDpmaXJzdC1jaGlsZHsNCiAgICBmbGV4LWdyb3c6IDE7DQogICAgY29sb3I6IHJnYmEoMCwwLDAsMCkNCiAgfQ0KICAgLnRvb2x0aXBPdmVydmlld3sNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIGZvbnQtc2l6ZTogMWVtOw0KICB9DQpidXR0b257DQogIHBhZGRpbmc6IDFlbTsNCiAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA0MDQwOw0KICBmb250LXNpemU6IDFlbTsNCiAgYm9yZGVyOiBub25lOw0KICBjb2xvcjogd2hpdGU7DQogIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KfQ0KLmJ0bmNvbmZ7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBib3R0b206IDA7DQogIHRyYW5zaXRpb246IDAuM3M7DQp9DQouYnRuY29uZjpob3ZlcnsNCiAgYmFja2dyb3VuZC1jb2xvcjpkYXJrZ3JheTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfSANCi5iaWdnZXJBcmVhew0KICB3aWR0aDogMTAwJTsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQouc3ViQ29udGFpbmVyew0KICBtYXgtd2lkdGg6IDEyMDBweDsNCn0NCi50ZXN0ew0KICBoZWlnaHQ6YXV0bzsNCiAgbWF4LWhlaWdodDogMzUwcHg7DQogIHdpZHRoOjEwMCU7DQp9DQouc29ydE5hdmlnYXRpb257DQogIGhlaWdodDogMTAwJTsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCg0KfQ0KDQoubGlzdDpmaXJzdC1jaGlsZCAubGlzdENvbnRhaW5lciAuc29ydE5hdmlnYXRpb24gLmFycm93VXB7DQogIGRpc3BsYXk6IG5vbmU7DQp9DQoNCi5saXN0Omxhc3QtY2hpbGQgLmxpc3RDb250YWluZXIgLnNvcnROYXZpZ2F0aW9uIC5hcnJvd0Rvd257DQogIGRpc3BsYXk6IG5vbmU7DQp9DQoNCi5uYXZCdG57DQogIHBvc2l0aW9uOnJlbGF0aXZlOw0KICB3aWR0aDogMS41ZW07DQogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGJvcmRlci1yYWRpdXM6IDMwcHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICB0cmFuc2l0aW9uOiAwLjNzOw0KfQ0KLmFycm93U3Znew0KICBjb2xvcjp3aGl0ZTsNCiAgc2l6ZTogMmVtOw0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogNTAlOw0KICAgIGxlZnQ6IDUwJTsNCiAgICBoZWlnaHQ6IDUwJTsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgICB3aWR0aDogMmVtOw0KICAgIGhlaWdodDogMmVtOw0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIGNvbG9yOndoaXRlOw0KfQ0KDQouYXJyb3dTdmc6aG92ZXJ7DQogIGNvbG9yOmdyZXk7DQp9DQoNCg=="},{"version":3,"sources":["Browse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Browse.vue","sourceRoot":"src/views","sourcesContent":["<!--This is condition 1A. This condition has no controll elements, and list order is randomized in every itteration. -->\r\n<template>\r\n  <div id=\"container\">\r\n    <div class=\"Browse\">\r\n\r\n      <!--Loading Spinner -->\r\n     <transition name=\"fade\">\r\n      <div id=\"loading\" v-if=\"searching\" mode=\"out-in\">\r\n        <div class=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n      </div>\r\n    </transition>\r\n\r\n    <!--Instruction box. Changes based on condition -->\r\n    <div class=\"textBox\" v-if=\"[1,2,3].includes(this.$parent.condition)\"><!--Condition 1-3 -->\r\n      <div class=\"headerText\">\r\n        <h1>Ordering Recommendations Provided</h1>\r\n        <h1> Step {{this.$parent.itteration}} of 5 </h1>\r\n      </div>\r\n      <p>Based on the movie that you have selected as a reference movie in the previous step, which is also shown directly below, \r\n        you are now tasked with finding a similar movie that you might enjoy to watch. Please inspect the options presented below for this purpose and select a movie that you would like to watch.<p/>\r\n    </div>\r\n    <div class=\"textBox\" v-if=\"[4,5,6].includes(this.$parent.condition)\"><!--Condition 4-6 -->\r\n      <div class=\"headerText\">\r\n        <h1>Ordering Recommendations Provided</h1>\r\n        <h1> Step {{this.$parent.itteration}} of 5 </h1>\r\n      </div>\r\n      <p>Based on the movie that you have selected as a reference movie in the previous step, which is also shown directly below, \r\n        you are now tasked with ordering the recommendations to your preference from top to bottom. This can be done by dragging the handle icon \"\r\n        <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrows-alt-v\" id=\"example\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z\"></path></svg>\r\n        \" up and down. When satisfied with the order, please select a movie that you would like to watch to continue.<p/>\r\n    </div>\r\n\r\n  <!-- Renders reference movie information -->\r\n  <!--This produces an undefined error since it attempts to run before content loaded. No actual issue. -->\r\n  <div id=\"metaContainer\">\r\n    <div id=\"textContainer\">\r\n      <h2>Your Reference Movie:</h2>\r\n      <h3>{{movies[0][\"Metadata\"].Title}}</h3>\r\n      <p style=\"font-weight: bold;\">{{movies[0][\"Metadata\"].Release}}</p>\r\n      <p class = \"metaText\">{{movies[0][\"Metadata\"].Overview}}</p>\r\n      <p class = \"metaText\">Stars: {{movies[0][\"Metadata\"].Actors}}</p>\r\n      <p class = \"metaText\">Director: {{movies[0][\"Metadata\"].Directors}}</p>\r\n      <p class = \"metaText\">Genres: {{movies[0][\"Metadata\"].Genres}}</p>\r\n    </div>\r\n    <div id=\"imageContainer\">\r\n      <div id=\"metaHeader\" :style=\"getImgStyle(movies[0]['Metadata'].Cover_Path)\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--Renders without controll elements, IE conditions 1-3. Recommendations sorted into list without control elements  -->\r\n  <div class=\"recContainer\" v-if=\"[1,2,3].includes(this.$parent.condition)\">\r\n    <div class =\"list\" v-for=\"(list,name) in similarities\" v-bind:item=\"list\" v-bind:key=\"name\">\r\n      <div class=\"listContainer\">\r\n        <!--p> {{list[0]}}DEBUG ONLY </p-->    \r\n        <!--Movie loop -->\r\n        <div class =\"filmSet\" v-for=\"(filmSet,index) in cut(list[1])\" v-bind:item=\"filmSet\" v-bind:key=\"index\">\r\n          <div class=\"filmContainer\">\r\n           <img class=\"test\" :src=\"getPicUrl(filmSet.Cover_Path)\">\r\n            <div class=\"tooltip\">\r\n              <p class=\"tooltipText\">placeholder</P>\r\n              <p class=\"tooltipText\">{{filmSet.Title}}</p>\r\n              <p class=\"tooltipText\">( {{filmSet.Release.substring(0,4)}} )</p>\r\n              <p id=\"tooltipOverview\">{{filmSet.Overview.substring(0,90)}}...</p>\r\n              <button class=\"btnconf\" v-on:click=\"endSession(filmSet.MovieLensID, list[0])\">Confirm</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Renders with control elements IF conditions are 4-6 -->\r\n  <div class=\"recContainer\" v-if=\"[4,5,6].includes(this.$parent.condition)\">\r\n\r\n      <draggable v-bind=\"dragOptions\" v-model=\"similarities\" class=\"biggerArea\" animation=\"200\" handle=.handle @change=\"checkMove($event)\">\r\n        <div class =\"list\" v-for=\"(list,index,name) in similarities\" v-bind:item=\"list\" v-bind:key=\"name\">\r\n        <div class=\"listContainer\">\r\n        <!--Font awesome have proven unreliable due to unknown bug. Manually drawing the SVG since the icon is critical -->\r\n        <div class=\"sortNavigation\">\r\n          <button class=\"navBtn arrowUp\" v-on:click=\"navUp(index)\">\r\n            <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"chevron-up\" class=\"arrowSvg\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z\"></path></svg>   \r\n          </button>\r\n\r\n          <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrows-alt-v\" class=\"svgData handle\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z\"></path></svg>\r\n          <button class=\"navBtn arrowDown\" v-on:click=\"navDown(index)\">\r\n            <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"chevron-down\" class=\"arrowSvg\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z\"></path></svg>\r\n          </button>\r\n        </div>\r\n        <!--Movie loop -->\r\n        <div class =\"filmSet\" v-for=\"(filmSet,index) in cut(list[1])\" v-bind:item=\"filmSet\" v-bind:key=\"index\">\r\n          <div class=\"filmContainer\">\r\n           <img class=\"test\" :src=\"getPicUrl(filmSet.Cover_Path)\">\r\n            <div class=\"tooltip\">\r\n              <p class=\"tooltipText\">placeholder</P>\r\n              <p class=\"tooltipText\">{{filmSet.Title}}</p>\r\n              <p class=\"tooltipText\">( {{filmSet.Release.substring(0,4)}} )</p>\r\n              <p id=\"tooltipOverview\">{{filmSet.Overview.substring(0,90)}}...</p>\r\n              <button class=\"btnconf\" v-on:click=\"endSession(filmSet.MovieLensID, list[0])\">Confirm</button>\r\n              </div>\r\n          </div>\r\n\r\n            <!--div class=\"film\" :style=\"getImgStyle(filmSet.Cover_Path)\">\r\n              <img class=\"test\" :src=\"getPictPath(filmSet.Cover_Path)\">\r\n              <div class=\"tooltip\">\r\n              <p class=\"tooltipText\">placeholder</P>\r\n              <p class=\"tooltipText\">{{filmSet.Title}}</p>\r\n              <p class=\"tooltipText\">( {{filmSet.Release.substring(0,4)}} )</p>\r\n              <p id=\"tooltipOverview\">{{filmSet.Overview.substring(0,90)}}...</p>\r\n              <button class=\"btnconf\" v-on:click=\"endSession(filmSet.MovieLensID, list[0])\">Confirm</button>\r\n              </div>\r\n            </div-->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </draggable>\r\n    </div>\r\n  \r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostService from '../SearchService'\r\nimport draggable from 'vuedraggable'\r\n\r\nexport default {\r\n    components: {\r\n    draggable\r\n  },\r\n  /*Local Variables */\r\n  data() {\r\n    return {\r\n      id:this.$route.params.id,\r\n      movies: [],\r\n      similarities: [],\r\n      errors: '',\r\n      text: '',\r\n      listOrder: [],\r\n      moveDistance: 0,\r\n      moveCount: 0,\r\n      browseStart : undefined,\r\n      searching : true,\r\n    }\r\n  },\r\n  computed: {\r\n    //config for scrolling variables while dragging\r\n    dragOptions(){\r\n      return {\r\n     scrollSensitivity: \"200\",\r\n     forceFallback: true,\r\n     scrollSpeed: \"30\",\r\n      }\r\n    }\r\n  },\r\n  /* Starts when view is initialized. Retrieves recommender lists based on movie selected. Shuffles afterwards */\r\n  async created() {\r\n    try{\r\n      this.movies = await PostService.getSims(this.id)\r\n      const temp= this.movies[0][\"Similarities\"]\r\n      this.browseStart = Date.now()\r\n      this.trimOutput()\r\n      this.similarities = Object.keys(temp).map((key) => {\r\n        return [String(key), temp[key]];\r\n      })\r\n    } catch(err) {\r\n      console.log(err.message)\r\n    }\r\n    /*Sort list if randomised conditions OR first itteration. condition 1 and 4*/\r\n    if([1,4].includes(this.$parent.condition) || this.$parent.itteration == 1){\r\n      this.similarities = this.shuffle(this.similarities)\r\n    }\r\n    //Sets list order to the order at the end of the previous itteration. Condition 2 and 5\r\n    else if([2,5].includes(this.$parent.condition)){\r\n      this.similarities = this.prevOrder()\r\n    }\r\n    //sorts list order based on weights from previous itterations. Condition 3 and 6\r\n    else if([3,6].includes(this.$parent.condition)){\r\n      this.applyWeights()\r\n    }\r\n    this.searching = false\r\n  },\r\n  methods: {\r\n    //Logs number of drags and how far it was dragged\r\n    navUp(index){\r\n      console.log(\"clicking up\")\r\n      var currentPos = this.similarities[index]\r\n      var abovePos = this.similarities[index-1]\r\n      this.similarities[index-1] = currentPos\r\n      this.similarities[index] = abovePos\r\n      this.$forceUpdate();\r\n    },\r\n\r\n    navDown(index){\r\n      console.log(\"clicking down\")\r\n      var currentPos = this.similarities[index]\r\n      var belowPos = this.similarities[index+1]\r\n      this.similarities[index+1] = currentPos\r\n      this.similarities[index] = belowPos\r\n      this.$forceUpdate();\r\n    },\r\n    checkMove(evt){\r\n      this.moveCount = this.moveCount + 1;\r\n      this.moveDistance = this.moveDistance + (Math.abs(evt.oldIndex - evt.newIndex))\r\n      console.log(evt)\r\n    },\r\n    trimOutput(){\r\n      console.log(\"Error1\")\r\n      var source = this.movies[0][\"Metadata\"]\r\n      console.log(\"Error2\")\r\n      this.movies[0][\"Metadata\"].Release = \"(\" + source.Release.substring(0,4) + \")\"\r\n\r\n      var actorlist = source.Actors.split(',')\r\n      var actorString = \"\"\r\n      if(actorlist.length < 4){\r\n        for(var i in actorlist){\r\n          if(i == 0){\r\n            actorString = actorlist[i]\r\n          }\r\n          else{\r\n          actorString = actorString.concat( \", \" + actorlist[i])\r\n        }\r\n        }\r\n      }\r\n      else{\r\n        for(var x = 0; x < 4; x ++){\r\n                    if(x == 0){\r\n            actorString = actorlist[x]\r\n          }\r\n          else{\r\n          actorString = actorString.concat(\", \" + actorlist[x])\r\n        }\r\n        }\r\n      }\r\n      console.log(\"Error3\")\r\n      this.movies[0][\"Metadata\"].Actors = actorString\r\n      console.log(\"no error\")\r\n    },\r\n    /* Sets order to previous itterations order, used by condition 2 and 5*/\r\n     prevOrder(){\r\n          const previousOrder = this.$parent.globalList[this.$parent.itteration-2]\r\n          const tempOrder = []\r\n\r\n          //special handling needed for condition 2\r\n          if(this.$parent.condition == 2){\r\n            for(var p = 0; p < this.similarities.length; p++){\r\n              if(this.$parent.previousSelectedList == this.similarities[p][0]){\r\n                tempOrder.push(this.similarities[p])\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          for(var x= 0; x < previousOrder.length; x++){\r\n            for(var y= 0; y < this.similarities.length; y++){\r\n              if(previousOrder[x] == this.similarities[y][0]){\r\n                if(this.similarities[y][0] !== this.$parent.previousSelectedList){\r\n                  tempOrder.push(this.similarities[y])\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return tempOrder\r\n      },\r\n\r\n    /* Fisher-Yates shuffle of the lists */\r\n    shuffle(arr) {\r\n      var i,\r\n          j,\r\n          temp;\r\n      for (i = arr.length - 1; i > 0; i--) {\r\n          j = Math.floor(Math.random() * (i + 1));\r\n          temp = arr[i];\r\n          arr[i] = arr[j];\r\n          arr[j] = temp;\r\n      }\r\n      return arr;    \r\n    },\r\n\r\n    //\"Hey i'm going to include 10 movies in the dataset what a good idea it is probably super easy to limit output later\".fix\r\n    cut(object) {\r\n      const treated =  Object.keys(object).map((key) => {\r\n          return [String(key), object[key]];\r\n        })\r\n      var halfSplit = {}\r\n      for (var i = 0; i < 5; i++){\r\n        halfSplit[i] = treated[i][1]\r\n      }\r\n      return halfSplit\r\n    },\r\n\r\n    //These two exist because vue is a real bitch with dynamic paths in the build\r\n    getImgStyle(url){\r\n      const imagePath = this.getPicUrl(url)\r\n      const anotherOne = `url(\" `+ imagePath + `\")`\r\n      return {'background-image': anotherOne}\r\n    },\r\n\r\n    getPicUrl(url){\r\n        return require('../assets/posters' + url)\r\n    },\r\n\r\n    /*Update database with values. postService params:  Id - Field - Value */\r\n    async updateStuff(field,value){\r\n      await PostService.genericUpdate(this.$parent.sessionId,field,value)\r\n    },\r\n\r\n    /*Generate a list containing current order of the recs. Index = position, name = name */\r\n    getListOrder(){\r\n      for(var i = 0; i < this.similarities.length; i++){\r\n        this.listOrder.push(this.similarities[i][0])      \r\n        }\r\n    },\r\n\r\n    /* finds position of the list which the movie was selected from */\r\n    getPosition(target){\r\n      for (var j = 0; j < this.listOrder.length; j++){\r\n        if(this.listOrder[j] == target)\r\n          return j\r\n      }\r\n    },\r\n    createWeights(){\r\n      var listObject = []\r\n      for(var x in this.listOrder ){\r\n        listObject[x] = {list : this.listOrder[x], value : (this.listOrder.length-x)/10 }\r\n      }\r\n      this.$parent.weightList = listObject\r\n      console.log(\"created weights\")\r\n      console.log(this.$parent.weightList)\r\n    },\r\n    updateWeights(){\r\n      for(var x in this.listOrder){\r\n        for(var y in this.$parent.weightList){\r\n          if(this.$parent.weightList[y].list == this.listOrder[x]){\r\n            console.log(\"Matching \" + this.$parent.weightList[y].list + \" against \" + this.listOrder[x] )\r\n            console.log(\"value was \" + this.$parent.weightList[y].value)\r\n            this.$parent.weightList[y].value = parseFloat((this.$parent.weightList[y].value + ((this.listOrder.length - x) / 10)).toFixed(2))\r\n            console.log(\"value is now \" + this.$parent.weightList[y].value)\r\n            break\r\n          }\r\n        }\r\n      }\r\n      console.log(\"unsoret\")\r\n      console.log(this.$parent.weightList)\r\n      this.$parent.weightList = this.$parent.weightList.sort((a,b) => (a.value < b.value) ? 1: -1)\r\n      console.log(\"sorted\")\r\n      console.log(this.$parent.weightList)\r\n\r\n    },\r\n    applyWeights(){\r\n      var sortedSim = []\r\n      for(var x in this.$parent.weightList){\r\n        for(var y in this.similarities){\r\n          if(this.$parent.weightList[x].list == this.similarities[y][0]){\r\n            sortedSim.push(this.similarities[y])\r\n            break\r\n          }\r\n        }\r\n      }\r\n      this.similarities = sortedSim\r\n    },\r\n    getTime(){\r\n      return Math.abs((Date.now() - this.browseStart)/1000).toFixed(2)\r\n    },\r\n    /*Browsing end handler. Writes activity to database, then determines what path to chose based on itteration state. */\r\n    endSession(MovieId,selectedList){\r\n        console.log(this.getTime())\r\n        this.getListOrder()\r\n        this.$parent.previousSelectedList = selectedList\r\n        if([3,6].includes(this.$parent.condition)){\r\n          if(this.$parent.itteration == 1){\r\n            this.createWeights()\r\n          }\r\n          else{\r\n            this.updateWeights()\r\n          }\r\n        }\r\n        //Result field\r\n        const result = {\r\n          listOrdering : this.listOrder,\r\n          listSelectedFrom : selectedList,\r\n          movieSelected : MovieId + \".json\",\r\n          moviePosition : this.getPosition(selectedList),\r\n          moveCount : this.moveCount,\r\n          moveDistance : this.movieDistance,\r\n          browsingTime : this.getTime()\r\n        }\r\n        const fieldName = \"BrowseResult\" + this.$parent.itteration\r\n        this.updateStuff(fieldName,result)\r\n\r\n        //continuation handler\r\n        if(this.$parent.itteration == 5){\r\n            this.$router.push({path:'/Survey'  })\r\n        }\r\n        else {\r\n            this.$parent.globalList[this.$parent.itteration-1] = this.listOrder\r\n            this.$parent.itteration = this.$parent.itteration + 1\r\n\r\n            this.$router.push({path:'/search'  })\r\n        }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n/*General */\r\n.container{\r\n  width:100%\r\n}\r\n.Browse{\r\n  width:100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n/*Legend*/\r\n.textBox {\r\n  background-color: black;\r\n  opacity: 0.9;\r\n  border-style: solid;\r\n  border-width: 2px;\r\n  border-color: white;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  max-width: 1200px;\r\n  min-width: 100%;\r\n}\r\np,h1 {\r\n  color:white;\r\n  font-size: 1em;\r\n  text-align:left;\r\n  white-space: pre-line;\r\n  margin: 5px;\r\n}\r\n#example{\r\n  height: 1.2em;\r\n}\r\n.headerText{\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  justify-content: space-between;\r\n}\r\nh1{\r\n  font-size:2em;\r\n  color:red;\r\n}\r\ni{\r\n  color:white;\r\n}\r\n/*Reference Movie*/\r\n.metaText{\r\n  font-size: 1em;\r\n  padding: 0px;\r\n}\r\n#metaContainer{\r\n  background-color: black;\r\n  opacity: 0.9;\r\n  border-style: solid;\r\n  border-width: 2px;\r\n  border-color: white;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  display: flex;\r\n  max-width: 1200px;\r\n}\r\n#textContainer{\r\n  width: 50%\r\n}\r\n#imageContainer{\r\n  min-width: 50%;\r\n  min-height: 100%;\r\n}\r\nh2{\r\n  color: red;\r\n}\r\nh3{\r\n  color: white;\r\n  font-size: 3em\r\n}\r\n/*List Style */\r\n.recContainer{\r\n  margin-top:10px;\r\n  width: 100%;\r\n}\r\n.list{\r\n  width:100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.listContainer{\r\n  width:100%;\r\n  display:flex;\r\n  flex-direction: row;\r\n  flex-grow:1;\r\n  justify-content: space-evenly;\r\n  margin-bottom: 10px;\r\n  align-items: center;\r\n  max-width: 1224px;\r\n}\r\n/*Film style */\r\n\r\n.filmSet{\r\n  height: 100%;\r\n  width:100%;\r\n  max-width: 20%;\r\n  min-width: 15%;\r\n  margin-left: 5px;\r\n}\r\n.film{\r\n  min-height:100%;\r\n  min-width:100%;\r\n  display: flex;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  color:black;\r\n  transition: 0.3s;\r\n  width:100%;\r\n  height:0;\r\n  padding-top: 150%;\r\n}\r\n#metaHeader{\r\n  height: 100%;\r\n  width: 55%;\r\n  display: inline-block;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  color:black;\r\n}\r\n  .svgData{\r\n    height: 7em;\r\n    width: 3em;\r\n    color: white;\r\n    cursor: pointer;\r\n  }\r\n/*\"Tooltip\" */\r\n.tooltip{\r\n position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  color: white;\r\n  display: none;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.9), rgba(0,0,0,1), rgba(0,0,0,1));\r\n  transition: .5 ease;\r\n}\r\n.filmContainer{\r\n  position:relative\r\n}\r\n.filmContainer:hover .tooltip{\r\n    display: flex;\r\n}\r\n .tooltipText{\r\n    font-weight: bold;\r\n    font-size: 1,5em;\r\n    padding:none;\r\n    padding-bottom: 2px;\r\n  }\r\n  .tooltipText:first-child{\r\n    flex-grow: 1;\r\n    color: rgba(0,0,0,0)\r\n  }\r\n   .tooltipOverview{\r\n    overflow: hidden;\r\n    font-size: 1em;\r\n  }\r\nbutton{\r\n  padding: 1em;\r\n  border-radius: 8px;\r\n  background-color: #404040;\r\n  font-size: 1em;\r\n  border: none;\r\n  color: white;\r\n  display:inline-block;\r\n}\r\n.btnconf{\r\n  position: relative;\r\n    bottom: 0;\r\n  transition: 0.3s;\r\n}\r\n.btnconf:hover{\r\n  background-color:darkgray;\r\n  cursor: pointer;\r\n} \r\n.biggerArea{\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.subContainer{\r\n  max-width: 1200px;\r\n}\r\n.test{\r\n  height:auto;\r\n  max-height: 350px;\r\n  width:100%;\r\n}\r\n.sortNavigation{\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n}\r\n\r\n.list:first-child .listContainer .sortNavigation .arrowUp{\r\n  display: none;\r\n}\r\n\r\n.list:last-child .listContainer .sortNavigation .arrowDown{\r\n  display: none;\r\n}\r\n\r\n.navBtn{\r\n  position:relative;\r\n  width: 1.5em;\r\n  background: transparent;\r\n  text-align: center;\r\n  border-radius: 30px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: 0.3s;\r\n}\r\n.arrowSvg{\r\n  color:white;\r\n  size: 2em;\r\n      position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    height: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 2em;\r\n    height: 2em;\r\n    display: block;\r\n    color:white;\r\n}\r\n\r\n.arrowSvg:hover{\r\n  color:grey;\r\n}\r\n\r\n</style>"]}]}